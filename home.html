<!DOCTYPE html> <html lang="pt-BR"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>ORBE - An√°lise Fix & Flip</title> <style> * { margin: 0; padding: 0; box-sizing: border-box; } body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; } .container { max-width: 900px; margin: 0 auto; } .header { text-align: center; color: white; margin-bottom: 40px; } .header h1 { font-size: 2.5rem; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); } .header p { font-size: 1.1rem; opacity: 0.9; } .card { background: white; border-radius: 16px; padding: 40px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); margin-bottom: 30px; } .form-group { margin-bottom: 25px; } label { display: block; margin-bottom: 8px; font-weight: 600; color: #333; font-size: 0.95rem; } input, textarea, select { width: 100%; padding: 12px 16px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1rem; transition: all 0.3s; font-family: inherit; } input:focus, textarea:focus, select:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); } textarea { resize: vertical; min-height: 120px; } .btn { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 16px 32px; border-radius: 8px; font-size: 1.1rem; font-weight: 600; cursor: pointer; width: 100%; transition: transform 0.2s, box-shadow 0.2s; } .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3); } .btn:active { transform: translateY(0); } .btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; } .loading { text-align: center; padding: 40px; display: none; } .loading.active { display: block; } .spinner { border: 4px solid #f3f3f3; border-top: 4px solid #667eea; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin: 0 auto 20px; } @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } } .result { display: none; } .result.active { display: block; } .result-header { text-align: center; padding: 30px; border-radius: 12px; margin-bottom: 30px; } .result-header.muito-boa { background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: white; } .result-header.viavel { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; } .result-header.apertada { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: white; } .result-header.nao-recomendado { background: linear-gradient(135deg, #ff0844 0%, #ffb199 100%); color: white; } .result-title { font-size: 2rem; margin-bottom: 10px; } .result-subtitle { font-size: 1.1rem; opacity: 0.95; } .metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0; } .metric-card { background: #f8f9fa; padding: 20px; border-radius: 12px; text-align: center; } .metric-label { font-size: 0.85rem; color: #666; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px; } .metric-value { font-size: 1.8rem; font-weight: 700; color: #333; } .metric-value.green { color: #11998e; } .metric-value.red { color: #ff0844; } .section { margin: 30px 0; } .section-title { font-size: 1.3rem; margin-bottom: 15px; color: #333; border-left: 4px solid #667eea; padding-left: 12px; } .detail-row { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #e0e0e0; } .detail-row:last-child { border-bottom: none; } .detail-label { color: #666; } .detail-value { font-weight: 600; color: #333; } .btn-secondary { background: #e0e0e0; color: #333; margin-top: 20px; } .btn-secondary:hover { background: #d0d0d0; } .error { background: #ffe5e5; border: 2px solid #ff0844; padding: 20px; border-radius: 8px; color: #c00; margin-top: 20px; display: none; } .error.active { display: block; } @media (max-width: 768px) { .header h1 { font-size: 2rem; } .card { padding: 24px; } .metrics { grid-template-columns: 1fr; } } </style> </head> <body> <div class="container"> <div class="header"> <h1>üè† ORBE Fix & Flip</h1> <p>An√°lise autom√°tica de viabilidade de investimentos imobili√°rios</p> </div> <div class="card" id="inputCard"> <form id="analysisForm"> <div class="form-group"> <label for="inputType">Tipo de Entrada</label> <select id="inputType" required> <option value="text">Texto Manual</option> <option value="url">URL de An√∫ncio</option> <option value="structured">Dados Estruturados</option> </select> </div> <div class="form-group" id="textInputGroup"> <label for="inputData">Descri√ß√£o do Im√≥vel</label> <textarea id="inputData" placeholder="Ex: Apartamento T2 com 75m¬≤ na Rua Augusta, 123, Lisboa. Pre√ßo: ‚Ç¨250.000. Necessita de remodela√ß√£o completa." required></textarea> </div> <div class="form-group"> <label for="estadoConservacao">Estado de Conserva√ß√£o</label> <select id="estadoConservacao" required> <option value="remodelacao">Necessita Remodela√ß√£o</option> <option value="ruina">Ru√≠na</option> <option value="remodelado">J√° Remodelado</option> </select> </div> <button type="submit" class="btn" id="submitBtn"> Analisar Im√≥vel </button> </form> <div class="loading" id="loading"> <div class="spinner"></div> <p>Analisando im√≥vel...</p> <p style="color: #999; font-size: 0.9rem; margin-top: 10px;"> Buscando compar√°veis e calculando viabilidade... </p> </div> <div class="error" id="error"> <strong>Erro ao processar an√°lise:</strong> <p id="errorMessage"></p> </div> </div> <div class="card result" id="resultCard"> <div class="result-header" id="resultHeader"> <div class="result-title" id="resultTitle"></div> <div class="result-subtitle" id="resultSubtitle"></div> </div> <div class="metrics"> <div class="metric-card"> <div class="metric-label">Investimento Total</div> <div class="metric-value" id="investimentoTotal">-</div> </div> <div class="metric-card"> <div class="metric-label">Venda Estimada</div> <div class="metric-value green" id="vendaEstimada">-</div> </div> <div class="metric-card"> <div class="metric-label">Lucro L√≠quido</div> <div class="metric-value green" id="lucroLiquido">-</div> </div> <div class="metric-card"> <div class="metric-label">ROI</div> <div class="metric-value" id="roi">-</div> </div> </div> <div class="section"> <h3 class="section-title">Detalhes do Investimento</h3> <div class="detail-row"> <span class="detail-label">Pre√ßo de Compra</span> <span class="detail-value" id="precoCompra">-</span> </div> <div class="detail-row"> <span class="detail-label">Custo de Remodela√ß√£o</span> <span class="detail-value" id="custoRemodelacao">-</span> </div> <div class="detail-row"> <span class="detail-label">Custos Adicionais</span> <span class="detail-value" id="custosAdicionais">-</span> </div> </div> <div class="section"> <h3 class="section-title">Dados do Im√≥vel</h3> <div class="detail-row"> <span class="detail-label">Tipologia</span> <span class="detail-value" id="tipologia">-</span> </div> <div class="detail-row"> <span class="detail-label">√Årea √ötil</span> <span class="detail-value" id="areaUtil">-</span> </div> <div class="detail-row"> <span class="detail-label">Endere√ßo</span> <span class="detail-value" id="endereco">-</span> </div> </div> <button class="btn btn-secondary" onclick="novaAnalise()"> Nova An√°lise </button> </div> </div> <script> const API_URL = 'https://mferro.app.n8n.cloud/webhook/fix-flip-analysis'; const form = document.getElementById('analysisForm'); const loading = document.getElementById('loading'); const error = document.getElementById('error'); const inputCard = document.getElementById('inputCard'); const resultCard = document.getElementById('resultCard'); form.addEventListener('submit', async (e) => { e.preventDefault(); const inputType = document.getElementById('inputType').value; const inputData = document.getElementById('inputData').value; const estadoConservacao = document.getElementById('estadoConservacao').value; // Mostrar loading form.style.display = 'none'; loading.classList.add('active'); error.classList.remove('active'); try { const response = await fetch(API_URL, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ input_type: inputType, input_data: inputData, estado_conservacao: estadoConservacao, user_id: 'web-user-' + Date.now() }) }); if (!response.ok) { throw new Error('Erro ao processar an√°lise'); } const data = await response.json(); // Esconder loading loading.classList.remove('active'); inputCard.style.display = 'none'; resultCard.classList.add('active'); // Preencher resultados mostrarResultados(data); } catch (err) { loading.classList.remove('active'); form.style.display = 'block'; error.classList.add('active'); document.getElementById('errorMessage').textContent = err.message; } }); function mostrarResultados(data) { const analise = data.analise_fix_flip; const input = data.input; // Header const resultHeader = document.getElementById('resultHeader'); const avaliacao = analise.resumo.avaliacao.toLowerCase(); if (avaliacao.includes('muito boa')) { resultHeader.className = 'result-header muito-boa'; } else if (avaliacao.includes('vi√°vel')) { resultHeader.className = 'result-header viavel'; } else if (avaliacao.includes('apertada')) { resultHeader.className = 'result-header apertada'; } else { resultHeader.className = 'result-header nao-recomendado'; } document.getElementById('resultTitle').textContent = analise.resumo.avaliacao; document.getElementById('resultSubtitle').textContent = analise.resumo.recomendacao; // M√©tricas document.getElementById('investimentoTotal').textContent = formatarMoeda(analise.financeiro.investimento.investimento_total); document.getElementById('vendaEstimada').textContent = formatarMoeda(analise.financeiro.retorno.preco_venda_estimado); document.getElementById('lucroLiquido').textContent = formatarMoeda(analise.financeiro.retorno.lucro_liquido_estimado); document.getElementById('roi').textContent = analise.financeiro.retorno.roi.toFixed(2) + '%'; // Detalhes document.getElementById('precoCompra').textContent = formatarMoeda(analise.financeiro.investimento.preco_compra); document.getElementById('custoRemodelacao').textContent = formatarMoeda(analise.financeiro.investimento.custo_remodelacao); document.getElementById('custosAdicionais').textContent = formatarMoeda(analise.financeiro.investimento.custos_adicionais); // Dados do im√≥vel document.getElementById('tipologia').textContent = input.tipologia; document.getElementById('areaUtil').textContent = input.area_util + ' m¬≤'; document.getElementById('endereco').textContent = input.endereco; } function formatarMoeda(valor) { return new Intl.NumberFormat('pt-PT', { style: 'currency', currency: 'EUR', minimumFractionDigits: 0 }).format(valor); } function novaAnalise() { resultCard.classList.remove('active'); inputCard.style.display = 'block'; form.style.display = 'block'; form.reset(); } </script> </body> </html>
